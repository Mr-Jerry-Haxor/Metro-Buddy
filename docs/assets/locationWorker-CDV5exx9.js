(function(){"use strict";let t=null;function o(s,e){self.postMessage({status:s,...e})}self.addEventListener("message",s=>{var n;const{type:e,payload:a}=s.data||{};if(e==="start"){if(!((n=self.navigator)!=null&&n.geolocation)){o("error",{error:{code:0,message:"Geolocation is not supported in this context."}});return}t&&self.navigator.geolocation.clearWatch(t),t=self.navigator.geolocation.watchPosition(i=>{o("success",{position:i})},i=>{o("error",{error:i})},(a==null?void 0:a.options)||{enableHighAccuracy:!0,maximumAge:1e3,timeout:1e4})}e==="stop"&&t!==null&&(self.navigator.geolocation.clearWatch(t),t=null)})})();
