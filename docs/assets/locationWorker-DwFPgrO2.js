(function(){"use strict";let t=null;function o(s,e){self.postMessage({status:s,...e})}self.addEventListener("message",s=>{const{type:e,payload:a}=s.data||{};if(e==="start"){if(!self.navigator||!self.navigator.geolocation){o("unsupported",{error:{code:0,message:"Geolocation is not supported in this worker context."}});return}t&&self.navigator.geolocation.clearWatch(t),t=self.navigator.geolocation.watchPosition(n=>{o("success",{position:n})},n=>{o("error",{error:n})},(a==null?void 0:a.options)||{enableHighAccuracy:!0,maximumAge:1e3,timeout:1e4})}e==="stop"&&t!==null&&(self.navigator.geolocation.clearWatch(t),t=null)})})();
